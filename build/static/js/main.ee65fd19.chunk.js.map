{"version":3,"sources":["services/people.js","components/AddPersonForm.js","components/DisplayPeronsList.js","components/FilterPersonList.js","components/FilterForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","AddPersonForm","props","onSubmit","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","DisplayPersonsList","key","person","name","number","onClick","handleDeleteRequest","FilterPersonList","persons","filter","toLowerCase","includes","newSearch","map","i","FilterForm","handleSearch","Notification","message","className","errorMessage","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","setErrorMessage","useEffect","peopleService","console","log","event","target","preventDefault","nameObject","some","window","confirm","find","p","updatedPerson","setTimeout","catch","error","updateNumberOfExistingPerson","concat","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ee65fd19.chunk.js","sourcesContent":["\nimport axios from \"axios\";\n//const baseUrl = \"http://localhost:3001/persons\";\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n};\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deletePerson: deletePerson\n};","import React from 'react'\n\nconst AddPersonForm = (props) => {\n    return (\n      <form onSubmit={props.addName}>\n        <div>\n          Name: <input value={props.newName} onChange={props.handleNameChange}/><br/>\n          Number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default AddPersonForm","import React from 'react'\n\nconst DisplayPersonsList = (props) => {\n    return (\n    <li key={props.person.id}> {props.person.name} {props.person.number} \n    <button value={props.person.id}  onClick={props.handleDeleteRequest}>delete</button>\n    </li>\n    )\n}\n\nexport default DisplayPersonsList","import React from 'react'\nimport DisplayPersonsList from './DisplayPeronsList'\n\nconst FilterPersonList = (props) => {\n    return (\n      <>\n      {props.persons.filter(person => person.name.toLowerCase()\n      .includes(props.newSearch.toLowerCase())).map((person, i) => \n      <DisplayPersonsList key={i} person={person} handleDeleteRequest={() => props.handleDeleteRequest(person.id)}/>)}\n      </>\n    )\n}\n\nexport default FilterPersonList","import React from 'react'\n\nconst FilterForm = (props) => {\n    return (\n      <>\n      Search <input value={props.newSearch} onChange={props.handleSearch}/>\n      </>\n    )\n  }\n\nexport default FilterForm","import React from 'react'\n\nconst Notification = (props) => {\n    if(props.message != null) {\n      return (\n        <>\n          <div className=\"message\">\n            {props.message}\n          </div>\n        </>\n      )}\n    else if(props.errorMessage !=null) {\n       return ( \n       <>\n        <div className=\"error\">\n          {props.errorMessage}\n        </div>\n      </>)\n    } else return (<></>)\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport peopleService from './services/people'\nimport AddPersonForm from './components/AddPersonForm'\nimport FilterPersonList from './components/FilterPersonList'\nimport FilterForm from './components/FilterForm'\nimport Notification from './components/Notification'\nimport { getAllByAltText } from '@testing-library/react'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber]= useState('')\n  const [ newSearch, setNewSearch]=useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const getDatafromServer = () => {\n    peopleService\n    .getAll().then(response => {\n      setPersons(response)\n    })\n    console.log(persons)\n  }\n  useEffect(getDatafromServer, [])\n  \n  const addName = (event) => {\n    event.preventDefault()\n\n    const nameObject = {\n        name: newName,\n        number: newNumber\n    }\n    console.log(nameObject)\n   const updateNumberOfExistingPerson = (id) => {\n      const person = persons.find(p => p.id === id)\n      const updatedPerson = {...person, number: newNumber}\n      peopleService\n      .update(id, updatedPerson).then(updatedPerson => {\n       setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\n       setNewName('')\n       setNewNumber('')\n       setMessage(`Number of ${person.name} was updated`)\n       setTimeout(() => {setMessage(null)},5000)\n     }).catch(error => {\n       setErrorMessage(`${person.name} was already removed from server, Update wasn't sucessful`)\n       setTimeout(() => {setErrorMessage(null)},5000)\n     })\n    }\n    if(persons.some(person => person.name === newName)) {\n        if(window.confirm(`${newName} is already added, replace the old number with new one? `)) {\n          const foundperson = persons.find(p => p.name ===  newName)\n          updateNumberOfExistingPerson(foundperson.id)\n        }\n    }\n    else {\n    peopleService\n    .create(nameObject).then(person => { \n          setPersons(persons.concat(person))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`${person.name} with number ${person.number} was added sucessfully`)\n          setTimeout(() => {setMessage(null)},5000)\n        })\n    }\n  }\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleDeleteRequest = (id) => {\n      if(window.confirm('Are you sure you want to delete entry ID: ' + id )) {\n        console.log(persons)\n        peopleService\n          .deletePerson(id)\n          .then(() => {\n            setPersons(persons.filter(n => n.id !== id))\n            setNewName('');\n            setNewNumber('');\n            setMessage(`Deletion was sucessfully`)\n            setTimeout(() => {setMessage(null)},5000)})\n              .catch(error => {\n              setErrorMessage(`Record with ${id} was already removed from server `)\n              setTimeout(() => {setErrorMessage(null)},5000)\n            })\n      }\n  }\n\n  const handleSearch = (event) => {\n    setNewSearch(event.target.value)\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} errorMessage={errorMessage}/>\n      <FilterForm newSearch={newSearch} handleSearch={handleSearch}/>\n      <AddPersonForm  addName={addName}  \n                      newName={newName} \n                      newNumber={newNumber} \n                      handleNameChange={handleNameChange} \n                      handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <ul>\n        <FilterPersonList newSearch={newSearch} persons={persons} handleDeleteRequest={handleDeleteRequest} />\n      </ul>\n    </div>\n  ) \n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}